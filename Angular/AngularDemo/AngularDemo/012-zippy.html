<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/angular.js"></script>
    <link href="Content/bootstrap.css" rel="stylesheet" />
    <link href="Content/bootstrap-theme.css" rel="stylesheet" />
</head>
<body>
    <div ng-app="app">
        <div>
            <input type="text" ng-model="model.title" />
            <input type="text" ng-model="model.content" />

            <zippy title="{{model.title}}">
                This is the {{model.content}}
            </zippy>
        </div>
    </div>

    <script type="text/javascript">
        var app = angular.module("app", []);

        app.directive("zippy", function () {
            return {
                restrict: "E",
                scope: { title: "@" },
                transclude: true,
                template:
                    "<div>" +
                        "<h3 ng-click='toggleContent()'>{{title}}</h3>" +
                    "</div>" +
                    "<div ng-show='isContentVisible' ng-transclude> </div>" +
                    "</div>",
                link: function (scope) {
                    scope.isContentVisible = false;

                    scope.toggleContent = function () {
                        scope.isContentVisible = !scope.isContentVisible;
                    };
                }
            }
        });
    </script>
</body>
</html>
