@model KatanaBugTracker.ViewModels.HomeViewModel

<!DOCTYPE html>
<html>
<head>
    <title>@Model.Title</title>
    <script src="~/Scripts/jquery-2.0.3.js"></script>
    <script src="~/Scripts/knockout-3.0.0.js"></script>
    <script src="~/Scripts/app.js"></script>

    @* Twitter Bootstrap *@
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-theme.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.js"></script>

    @* SignalR *@
    <script src="~/Scripts/jquery.signalR-2.0.1.js"></script>
    <script src="~/signalr/hubs"></script>

</head>
<body>
    <header>
        <h1>@Model.Title</h1>
    </header>
    <section>
        <h2>Backlog</h2>

        <p data-bind="visible: Backlog().length == 0">There are no bugs in backlog</p>

        <ul class="bugs" id="backlog" data-bind="foreach:Backlog">
            <li>
                [<span data-bind="text: Id"></span>] <span data-bind="text: Title"></span>: <span data-bind="text: Description"></span>
                <ul>
                    <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Working)">To working</a></li>
                    <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Done)">To done</a></li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h2>Working</h2>

        <p data-bind="visible: Working().length == 0">There are no bugs in working state</p>

        <ul class="bugs" id="working" data-bind="foreach:Working">
            [<span data-bind="text: Id"></span>] <span data-bind="text: Title"></span>:<span data-bind="text: Description"></span>
            <ul>
                <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Backlog)">To backlog</a></li>
                <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Done)">To done</a></li>
            </ul>
        </ul>
    </section>
    <section>
        <h2>Done</h2>

        <p data-bind="visible: Done().length == 0">There are no bugs in done state</p>

        <ul class="bugs" id="done" data-bind="foreach:Done">
            [<span data-bind="text: Id"></span>] <span data-bind="text: Title"></span>:<span data-bind="text: Description"></span>
            <ul>
                <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Backlog)">To backlog</a></li>
                <li><a href="#" data-bind="click: $root.changeState.bind($root, $data, BugStatus.Working)">To working</a></li>
            </ul>
        </ul>
    </section>
</body>
</html>